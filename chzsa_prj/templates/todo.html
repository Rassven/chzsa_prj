{% extends 'base/default.html' %}
{% load static %}

{% block title %}Todo page (вкладка в браузере){% endblock title %}

{% block content %}
<div class="todo-window">
    <h2>Надо сделать:</h2>
    <br>
    <ul style="color: #000088">
        <li style="color: #ff0000">Структура Машины подразумевает разные модели End_user/Client/Service_company
            (еще есть и "Обслуживающая организация"... 4 вида пользователей), а не просто User c указанием группы... Перенос в Accounts не удается...</li>
        <li style="">Ошибка с паролем в админке (инвалидный, если задавать для модели проекта, приходится пользоваться специальной формой для изменения).</li>
        <li style="">Где его создавать и откуда выкачивать сгенерированный файл Excel? Или так (если уже собран): <a href="{% static 'test_output.xlsx' %}" download>Скачать файл Excel</a>?</li>
        <li style="">Фильтрация данных на странице пользователя (отсечка) по полю его имени (организации).</li>
        <li style="">...Для "Сервисов" по их полю имени.</li>
        <li style="">...Для менеджеров без фильтрации, зато с проверкой наличия (и проверка хэш-суммы) файла обновлений
        (тут как раз окно просмотра и уместно <iframe src="{% static 'demo.py' %}" class="frame1">Specification</iframe>).
            И переход к "записи" (предзаполненная форма). ??Выбор записи по
        списку ключей в Content (вывод в выпадающий список?). Тогда по каждому надо и хранить отметки
        "обработано"/"не обработано"... После того как весь файл обработан перенос в папку Accepted, или
        если "забракован" то в Rejected.</li>
        <li style="">Содержимое папки Static доступно из адресной строки... Что не хорошо...</li>
        <li style="">У менеджеров, кроме основных таблиц (Machine, Maintenance, ClaimInfo) еще и End_Users +? Clients + Service_Companies + Maintenance_organization + куча справочников!!!.</li>
        <li style="">Проверка загруженных файлов-спецификаций: наличие указанных объектов (включая влложенность), по
            корректности принятых данных, по новизне (в случае дублирования) с автоматическим отсевом. ?Общая индексация
            для всех файлов?</li>
        <li style="">Еще по узлам (в файлах спецификаций, а может и в моделях пригодится): поле "ссылка на документацию".</li>
        <li style="">По функции снимка БД в Excel: если файла нет, то просто залить всё, если есть: поиск листа, для
            Машины (обновление) - поиск по номеру, для ТО (если строка имеет различия - запись новой): - номер машины
            + номер заказа-наряда, для "Рекламаций" (если строка имеет различия - запись новой): номер машины + дата
            отказа. Как вариант просто делать снимок с текущей датой-временем в имени файла. Вопрос кто потом чистить будет...</li>
        <li style="">Проверка и сборка данных из файлов (кстати, еще и их список нужен) запускать при старте сайта?</li>
        <li style="">Импортировать hash_check куда, к чему прявязать обработчик?</li>
        Готово...
        <li style="color: #00aa00">У машин и организаций задать поле: is_active=True (списанные машины и узлы из базы
            не удаляются! Как и переставшие существовать клиенты и фирмы.</li>
        <li style="color: #00aa00">Добавить к каждому узлу поле TextField в котором будет словарь: {"Life_time": 3000
            (значение гарантированного срока работы, в часах), "Time_stamp": {"2024-07-01 17:00:00": 8,
            "2024-07-02 17:00:00": 16, "2024-07-03 17:00:00": 24} (вложенный словарь с парами: дата_записи: текущая
            наработка (как у электросчетчиков))}. Есть поле Description, но туда явно что-то другое писаться будет.</li>
        <li style="color: #00aa00">Просмотр файла спецификации (dict) отдельном окне (<iframe src="{% static 'demo.py' %}" class="frame1">Specification</iframe>).</li>
        На будущее...
        <li style="color: #aaaaaa">Для всех пользователей сохранение последней посещенной страницы (стартовать с нее),
            а так же запоминать куда делается первый переход (отдельный лог "пользователь-группа-первый переход). Чтобы
            выяснить, какую страницу стоит делать стартовой.</li>
        <li style="color: #aaaaaa">Логировать изменения вносимые в БД с сохранением изменяемого значения.</li>
        <li style="color: #aaaaaa">Логирование пользователей, их действий в деталях, фиксация сделанных изменений
            (желательно в виде место изменения + "было"-"стало" + кем сделано). В том же ключе и логирование
            атоматических действий.</li>
        <li style="color: #aaaaaa">У машин и организаций задать поле: hidden=N (показать только пользователям с
            совпадающими номерами).</li>
    </ul>
    <br>
    <a href="{% url 'welcome' %}" download>download Welcome</a>
</div>
{% endblock content %}
